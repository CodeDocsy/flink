Flink 的开发模式主要是指你在开发和调试作业时选择的 **作业执行环境和运行方式**。它决定了你的作业在本地还是集群上执行，以及你是否可以方便地调试。下面我给你梳理一下本地调试相关的 Flink 开发模式：

---

## 1️⃣ Flink 的主要开发模式

### 1. **Local 模式（Local Execution Mode）**

* **特点**：

  * 作业在本地 JVM 中运行，不需要真正的集群。
  * 包含完整的 JobManager 和 TaskManager，但都在本地模拟。
  * 可以像普通 Java 程序一样用 IDE 调试。
* **使用场景**：

  * 本地开发调试、单机测试。
  * 学习 Flink API。
* **示例**：

```java
StreamExecutionEnvironment env = StreamExecutionEnvironment.createLocalEnvironment();
```

或者直接：

```java
StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();
```

> 如果没有配置集群，`getExecutionEnvironment()` 默认就是本地模式。

---

### 2. **Standalone 集群模式**

* **特点**：

  * 部署一个独立 Flink 集群，作业提交给集群运行。
  * JobManager/TaskManager 在不同 JVM 或机器上。
* **使用场景**：

  * 预生产或生产环境测试。
  * 模拟真实集群运行情况。

---

### 3. **Session 模式 vs Per-Job 模式**

* **Session 模式**：

  * 一个 Flink 集群启动后可以提交多个作业。
* **Per-Job 模式**：

  * 每个作业启动一个临时集群。
* **本地调试**一般使用 **Local Session**。

---

### 4️⃣ 本地调试常用技巧

1. **设置并行度**：

```java
env.setParallelism(1); // 保证顺序，方便调试
```

2. **打印线程和数据**：

```java
env.fromSequence(1, 10)
   .map(i -> {
       System.out.println("线程ID: " + Thread.currentThread().getId() + ", 数据: " + i);
       return i;
   });
```

3. **阻塞作业查看**：

   * 可以在 map/filter 中加 `Thread.sleep` 观察执行顺序和线程。
4. **IDE 调试**：

   * 可以直接在 `main` 方法打断点，运行或调试 Flink 作业。
   * 因为是本地模式，断点生效。

---

✅ **总结**

* **Flink 开发模式**主要分 **本地模式（Local）、Standalone 集群、Session/Per-Job**。
* **本地模式**是最常用的本地调试方式，支持在 IDE 里像普通 Java 程序一样运行和调试。
* 配合打印日志和控制并行度，可以快速理解作业执行逻辑。

---

如果你愿意，我可以写一个 **完整的本地 Flink 调试示例**，包括 source → map → filter → sink，打印线程信息，非常直观地看出 Flink 的执行流。

你想让我写吗？
